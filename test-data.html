<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç –¥–∞–Ω–∏—Ö</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
    <h1>–¢–µ—Å—Ç –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –¥–∞–Ω–∏—Ö</h1>
    <div id="results"></div>

    <script src="supabaseConfig.js"></script>
    <script src="dataService.js"></script>
    <script>
        async function testData() {
            const results = document.getElementById('results');
            
            try {
                results.innerHTML = '<p>üîÑ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ —Å–µ—Ä–≤—ñ—Å –¥–∞–Ω–∏—Ö...</p>';
                
                const dataService = new DataService();
                await dataService.init();
                
                results.innerHTML += '<p>‚úÖ –°–µ—Ä–≤—ñ—Å –¥–∞–Ω–∏—Ö —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ</p>';
                
                const activeCards = await dataService.getCards();
                results.innerHTML += `<p>üìä –ê–∫—Ç–∏–≤–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫: ${activeCards?.length || 0}</p>`;
                
                if (activeCards && activeCards.length > 0) {
                    results.innerHTML += `<p>üìù –ü—Ä–∏–∫–ª–∞–¥ –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏:</p><pre>${JSON.stringify(activeCards[0], null, 2)}</pre>`;
                }
                
                const archivedCards = await dataService.getArchivedCards();
                results.innerHTML += `<p>üìÅ –ê—Ä—Ö—ñ–≤–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫: ${archivedCards?.length || 0}</p>`;
                
                if (archivedCards && archivedCards.length > 0) {
                    results.innerHTML += `<p>üìù –ü—Ä–∏–∫–ª–∞–¥ –∞—Ä—Ö—ñ–≤–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏:</p><pre>${JSON.stringify(archivedCards[0], null, 2)}</pre>`;
                }
                
            } catch (error) {
                results.innerHTML += `<p>‚ùå –ü–æ–º–∏–ª–∫–∞: ${error.message}</p>`;
                console.error('–ü–æ–º–∏–ª–∫–∞ —Ç–µ—Å—Ç—É:', error);
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        window.addEventListener('load', testData);
    </script>
</body>
</html>
